language: ruby
cache: bundler
bundler_args: "--deployment --without vagrant"
rvm:
- 2.1
before_install:
- openssl aes-256-cbc -K $encrypted_5c053418e504_key -iv $encrypted_5c053418e504_iv
  -in travis_ci_ec2.pem.enc -out ~/.ssh/travis_ci_ec2.pem -d
- mkdir ~/.chef
- echo 'node_name "trubot"' >> ~/.chef/knife.rb
- chmod 600 ~/.ssh/travis_ci_ec2.pem
script:
- bundle exec rake
after_script:
- bundle exec rake integration:cloud_destroy
notifications:
  slack:
    secure: dLmroNHSMcoGd6S6FvyW8QfodL9MKEfsmPVe9oru0tCJiZuiDjAmrNYlZDPWfS9274uK2wElAr7qypVcL5PVjMOYnlBOnV4C0pvM5zkzbNi3qBAjokqeS2ukKFFUt3L12+g4Mg6S/gKuDSxhQh7wzCa8pVKOjYXHaKcWi5YcfaJpfRmN8xxDDOz8dgikBknyRhnkj/I3hR+Lse5zaDaFsBHtWWyqDnd81UGdpsYrZne+t/Py4PiGXyWvMz98PA/jyac5DxbmzBBbPkz1JS+mXQblgcP6f7MtzOf5jwRsiXCZs6vzJXC4Hzomp4msdnJY/5i65yoaowOdhHclUehryuEgLT5cZMksScjNUdwPCILLP6EZHJieN5QDRc9uYd1UyckpUj1Pu8SFyO/cKBNZB9VMaUu92jdcm1zp2gZLooZNjzSH1oL5IUM0nfMyQxe2CqAP79M/Doc07lKE90LjbYt/wrOUZjNVCgOq7Fm8aiHJTJ4sHSeYYmfCj/SvzpUJ6maJqW+LzkdaSeK3UfkLeXN6lbhVe8vfSXKzLau3gZYj8xa1ppO1AJ2ooD8JwAQbDEErQgJmIXpF13mRxJAsKSO1g3E+8LnJagAvOp2anjAxySa0ejv39MgIWcT1JtjIe6MTrSECRvVCqVvKr2xXCzLNJlz1Ff/jDFP7raJsI5Q=
env:
  global:
  - secure: nOKFeHbgfgNlsEj/DvJmPXPSpUYP91uPIHHkIkW7LKg4OrE8o9NquCZvFoofGcSVz5Pf0vB7hFj/6vGiJvge896e+OTR9JY2uUavVEqqeStztTeBh2zzyXLmmLn2VoJCUfv1XjYpZDzbzLrPxH17NRDQ04Cfo5Xml2FTKHjrk2Un0/gcsZ7/IpkPavHZCAdPOKAad+nc6ua/GN5FmJC0E2LwQAp3p28kCfjtFhsvSxdYly6CyZfRwkxCnjsigeDlhAFmdzueS+bnX540UGVhqOCppAwRaSLwCwUeD2b6Yur9f+7dEZXYeUR4cd5Yp0U2G8MqSYOJMdU5A6cvTCVOczzDWuv51KrHGetIhwTRzk3aG2fuN68rlMIQWui1yghf6s3pwLdxTT+RToGm38zUENYayyV8kn7TaY563Jk/J2R5tEDfiEU9rEkjEq7tstSNFOCyhTw2ThN5T7YaBIap6FlOdT54A2RJMmr4wRP5cQjgDsSEvyKfzyGduCkUZDBbLNVenHGqP/dh9c2q7dD/+jZ1f64eVgN6//+JJBgEBawiUTgw9KEl4ous58m5fumghtVu/LQyzQbeAsUb7DbiaXtNbJ/kHne05vNAtUaoxoj/rnmnOs7EIi3VloxQgiTHZUUgtRNpHVIw2HlwlvPx5SszfK6WQkWlIdrTgzEvNbo=
  - secure: aB7aX2Y4cwiIY/c8ryU/qrnKBgCNCuYBvjeWxG6j09Ww9W/NUHFIDOU7pKlbJKaJDzFwDQe4njSodp/NV1PTC4B1k9MvaIFxJi42O4J5lfLnxSOXYYLRuo2hFceBXxK4b5JmQe085IqwphqZ13q+NlydgZMEJUE0t5N+O9PtbdBfl2srtg9ikcm9hRfIcwnyXelGn05jvmb7Vtgak+t5HTenjOHveli+HVFpgClw0ur26JJncsXdAbck1s3kfTUg1RGgab/Mood57Dgae6mIvyIZ+DaglFc4nelQpY4Y+yNlFx3WXL5ILA2M22+qPztrlzD1mTyn5m1/InNjuA8LftaVEa1DidYj5r+DNMKsB0OjV+BtBcfu/Ry5yPVIMCD2uT6Q70p64hu+voUIigA7i6yhqt859K5fPcbWPBwA71rbYGtc2WdnGEfa5p14yHuKDpegXVR2ky7KNaS2c0d+flBFWVfuYUZptj5AL1Ck7tPGp0cN9OUm1btC81ak8aTxjbqJASDcT+zEkK9IWlnZ4SWo1Ty5xuU6ILNRyTwhqQO3SFSo/QHAgxAZEpIOwM6X6fVCRtEj/Iv9BYJNURwmitbmTc5ZuFJNstKleGQBBRU93vKJ4OMQzzl28DzI/LvcLMwvvrLfnZFXAKfeOFO1EwKljuyiJLyLwqAnhy7yL74=
  - secure: zczMQRc24KG4s1yE/NfDeIs07KE5u7sUk397agEHMA9/xMFwWFqRh2h2WiO9LOteIJtuqrvuTvg6JpI9a12vOQZl0Q4VEk7iLOxAM8bOpT8pCv/6LcotWWlESOmjwtWX6flwXFdsLfrZbHeVHsUAIB0xnZS4HeyjbP3tlTbqGt+ICu2HzVVj48MZAsDFRAkO6lLfm12xxcIt8ki9wlz2fxgRR2xIzwJHsHIOtLL3fzgZSbQZRiZ/xBMN9GvrAxdW5liHEMBRROMeIf2EWuuKv1LcUZ93ygv5QvMvipBcQ1kMSzZE9W0XKDmjszGK34QBvqeHVdcQ1rr7E5eD5Utw6oL+YM1xR+tKQUsKL+uFSt8ZAgpR3qu//AhwIN21EF3tufwzjJ/5NVxYzTENo7Cz6/2WA7fKO58x30yinb53a+cCzvSjKfrGerouNACqjPDExp9HzuAQJbWTpGtoS4tgRkXv2LeFuQeiViO2CC56xR6HG9XET2+wCK2gJ6glzLGNUuS0riIRyl1xRZvMdpT5HQk2wvGkzUUk16KNuAH44S1oBxM2wQMKL9CKpCBAuBntlag9n7gJ7S+N5T9VKEaEOn/jvqCn3hp1ukBM3GiaUZjWcUf+lhH0LPoO898jhv43AB0dyMtKBzvHl9RBaZb71BiEanANGwjcaoGt/sQchbM=
  - secure: FkQ0ixp7oh0tcLz+IQ3cDhLhQKQwfWIdIpmPBA9YxvhwplKvw2Bymxed9UwX5ZV4yLrFd2CLsalhEyj8o77k5GQQNIojxENEe91bGZ/M6sP25gIBrD6i418j/mhFptEuCdg5fVz4/o8r++W1ykelBDwSWFLEOWNBlL6e6oTpgJrAsNh7DvZzVtPePsNJJ9gxAa3X+uxtJabUTQMDd7+STCffCVAxCG+V2DMytV2yZ/2XhofFGTljbQ5JMuWcKRyFRuVqNNWLMLjtjKFywc/e141BGOxxYM8JVExkWKles+OzNHuRIY0VBT+lAvkQATtGeAEltd/uIrlvdc6VCLL1iiSPiS32zxL0JUSGA6uNIFBZ1Q4aH6y3IpsizMKc1i+YypsYU0WOiyyQ0Brs4SRpaI24sHchayLtc/WT+D/wSNBFn7SCNhY3AgnGlH4k35wHeLKdq3iTjhiDHXe/+1fbn+3G50AiCrTJcInn3RoDkX9QevGDI3QcBlk68fem9l3BSWnfVsCt2RNqrOTJ+sRmgQDHH2lK/+C3HmVyMgt9DrBDh/kdYMTUfqTsc3Gq3H5l5o6rFAutgvlekLlwMYek2a8x9UkNXUgyM7aaq/zQTIDsi3lZNf8YiIKQDHa9s6LDBwqUnnnfRwOwmFCQGPLSbBXX9eoW47TDJFyOkg4h3/U=
